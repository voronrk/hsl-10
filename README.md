# Задание 11

Задание сделано на основе предыдущего задания (удалены ненужные роуты, переделана форма).

Создана миграция, модель и контроллер для таблицы posts. Поле "title" в таблице задано уникальным.
$table->string('title')->unique();
$table->string('text');
В контроллере PostController создан метод create(), возвращающий форму для создания поста. Форма передаётся на роут /store, вызывающий класс store() контроллера PostController. Указанный класс обращается к модели Post, передавая ей данные для сохранения в базу. Если пост сохранён успешно (метод save() возвращает '1'), то контроллер возвращает сообщение об успешности сохранения поста. Также контроллер ловит исключение при попытке записи в базу (в частности, если название неуникально) и возвращает его описание.

## *
Для предотвращения возникновения исключения при неуникальном названии поста создан посредник PostUnique, который проверяет наличие в базе поста с таким названием. При наличии такого поста происходит редирект на форму с отправкой параметра 'notunique', который включает подсказку под полем ввода. Также реализована загрузка в поля ввода предыдущих введённых данных.



# Задание 10

## Часть 1
Созданы два API-роута:

**getData** - публичный, возвращает текстовую строку.

**getSecretData** - приватный, через middleware проверяет наличие токена в заголовке запроса, при его отсутствии перенаправляет на роут, возвращающий ответ Access denied.

Создана форма для ввода имени и e-mail. При  отправке происходит проверка заполненности поля Имя (middleware HawkingForm), в случае успеха происходит редирект на маршрут /profile, который отображает введёные данные формы. В случае неудачи производится редирект на страницу формы с передачей параметра 'noname', при наличии которого выводится сообщение об обязательности поля Имя.


## Часть 2
Созданы пять веб-роутов:

**/1** - вывод информации, переданной через параметр 'data',

**/11** - то же самое с использованием контроллера,

**/2** - безусловный редирект на /1,

**/3** - вывод информации через контроллер с передачей обязательного параметра

**/4** - пустой роут.

Также создан посредник **HawkingRoute**, переадресующий роут /4 на /3 с передачей параметра.